// Generated by CoffeeScript 1.7.1
(function() {
  this.addCurrentPageHighlight = function() {
    var curr_pathname, pathArray, _site_section;
    curr_pathname = location.pathname;
    pathArray = curr_pathname.split("/");
    _site_section = pathArray[1];
    if (!$('body').is('.ual.home')) {
      $("a[href$='" + curr_pathname + "']").addClass("current-page");
      addActiveParentClass(_site_section);
    }
    return true;
  };

  this.addActiveParentClass = function(_top_level_section) {
    var _college_urls, _site_sections;
    _college_urls = ["csm", "fashion", "lcc", "camberwell", "chelsea", "wimbledon"];
    $('#global-nav a.current-page').each((function(_this) {
      return function(index, element) {
        _this = $(element);
        if (!_this.hasClass('megamenu_drop')) {
          return _this.closest('.menu-btn').addClass('active-parent');
        }
      };
    })(this));
    _site_sections = $('#global-nav li.menu-btn');
    _site_sections.each((function(_this) {
      return function(index, element) {
        _this = $(element);
        if (_this.attr('data-site-section') === _top_level_section) {
          return _this.addClass('active-parent');
        }
      };
    })(this));
    if ($.inArray(_top_level_section, _college_urls) !== -1) {
      $('#global-nav li.menu-btn[data-site-section="colleges"]').addClass('active-parent');
    }
    return true;
  };

}).call(this);
